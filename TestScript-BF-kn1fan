local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/tbao143/Library-ui/refs/heads/main/Redzhubui"))()
workspace.FallenPartsDestroyHeight = -math.huge

local Window = Library:MakeWindow({
    Title = "lava Hub | Blox Fruits ",
    SubTitle = "by: @kn1fan / lava85halst",
    LoadText = "Loading lava Hub",
    Flags = "ChaosHub_Broookhaven"
})
Window:AddMinimizeButton({
    Button = { Image = "rbxassetid://72674068736695", BackgroundTransparency = 0 },
    Corner = { CornerRadius = UDim.new(35, 1) },
})

local LevelFarm = Window:MakeTab({ Title = "–§–∞—Ä–º lvl", Icon = "rbxassetid://13364900349" })

-- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∞—Ä–º–∏–Ω–≥–æ–º —É—Ä–æ–≤–Ω–µ–π
local isLevelFarming = false
local currentSea = 1

-- –°–µ–∫—Ü–∏—è –¥–ª—è 1 –º–æ—Ä—è
LevelFarm:AddSection({ "1 –ú–æ—Ä–µ" })

LevelFarm:AddButton({
    Name = "–í–∫–ª—é—á–∏—Ç—å —Ñ–∞—Ä–º 1 –º–æ—Ä–µ",
    Description = "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∞—Ä–º–∏—Ç —É—Ä–æ–≤–Ω–∏ –Ω–∞ 1 –º–æ—Ä–µ",
    Callback = function()
        if isLevelFarming then
            print("–§–∞—Ä–º–∏–Ω–≥ —É—Ä–æ–≤–Ω–µ–π —É–∂–µ –∑–∞–ø—É—â–µ–Ω")
            return
        end
        
        currentSea = 1
        startLevelFarm()
    end
})

LevelFarm:AddButton({
    Name = "–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–∞—Ä–º 1 –º–æ—Ä–µ",
    Description = "–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–∞—Ä–º–∏–Ω–≥ —É—Ä–æ–≤–Ω–µ–π –Ω–∞ 1 –º–æ—Ä–µ",
    Callback = function()
        stopLevelFarm()
    end
})

-- –°–µ–∫—Ü–∏—è –¥–ª—è 2 –º–æ—Ä—è
LevelFarm:AddSection({ "2 –ú–æ—Ä–µ" })

LevelFarm:AddButton({
    Name = "–í–∫–ª—é—á–∏—Ç—å —Ñ–∞—Ä–º 2 –º–æ—Ä–µ",
    Description = "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∞—Ä–º–∏—Ç —É—Ä–æ–≤–Ω–∏ –Ω–∞ 2 –º–æ—Ä–µ",
    Callback = function()
        if isLevelFarming then
            print("–§–∞—Ä–º–∏–Ω–≥ —É—Ä–æ–≤–Ω–µ–π —É–∂–µ –∑–∞–ø—É—â–µ–Ω")
            return
        end
        
        currentSea = 2
        startLevelFarm()
    end
})

LevelFarm:AddButton({
    Name = "–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–∞—Ä–º 2 –º–æ—Ä–µ",
    Description = "–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–∞—Ä–º–∏–Ω–≥ —É—Ä–æ–≤–Ω–µ–π –Ω–∞ 2 –º–æ—Ä–µ",
    Callback = function()
        stopLevelFarm()
    end
})

-- –°–µ–∫—Ü–∏—è –¥–ª—è 3 –º–æ—Ä—è
LevelFarm:AddSection({ "3 –ú–æ—Ä–µ" })

LevelFarm:AddButton({
    Name = "–í–∫–ª—é—á–∏—Ç—å —Ñ–∞—Ä–º 3 –º–æ—Ä–µ",
    Description = "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∞—Ä–º–∏—Ç —É—Ä–æ–≤–Ω–∏ –Ω–∞ 3 –º–æ—Ä–µ",
    Callback = function()
        if isLevelFarming then
            print("–§–∞—Ä–º–∏–Ω–≥ —É—Ä–æ–≤–Ω–µ–π —É–∂–µ –∑–∞–ø—É—â–µ–Ω")
            return
        end
        
        currentSea = 3
        startLevelFarm()
    end
})

LevelFarm:AddButton({
    Name = "–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–∞—Ä–º 3 –º–æ—Ä–µ",
    Description = "–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–∞—Ä–º–∏–Ω–≥ —É—Ä–æ–≤–Ω–µ–π –Ω–∞ 3 –º–æ—Ä–µ",
    Callback = function()
        stopLevelFarm()
    end
})

-- –§—É–Ω–∫—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ñ–∞—Ä–º–∞ —É—Ä–æ–≤–Ω–µ–π
function stopLevelFarm()
    isLevelFarming = false
    print("‚úÖ –§–∞—Ä–º–∏–Ω–≥ —É—Ä–æ–≤–Ω–µ–π –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
end

-- –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ñ–∞—Ä–º–∞ —É—Ä–æ–≤–Ω–µ–π
function startLevelFarm()
    local Players = game:GetService("Players")
    local localPlayer = Players.LocalPlayer
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    
    isLevelFarming = true
    
    -- –ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ø–æ–ª–µ—Ç–∞
    local function enableFlight()
        local character = localPlayer.Character
        if not character then return false end
        
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if not humanoid then return false end
        
        humanoid.PlatformStand = true
        
        local bodyVelocity = Instance.new("BodyVelocity")
        bodyVelocity.Velocity = Vector3.new(0, 0, 0)
        bodyVelocity.MaxForce = Vector3.new(100000, 100000, 100000)
        bodyVelocity.Parent = character.HumanoidRootPart
        
        return true
    end
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ø–æ–ª–µ—Ç–∞
    local function disableFlight()
        local character = localPlayer.Character
        if not character then return end
        
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.PlatformStand = false
        end
        
        local bodyVelocity = character.HumanoidRootPart:FindFirstChild("BodyVelocity")
        if bodyVelocity then
            bodyVelocity:Destroy()
        end
    end
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏ –∫ —Ç–æ—á–∫–µ (–ø—Ä–æ—â–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ —á–µ–º –ø–æ–ª–µ—Ç)
    local function teleportToPosition(targetPosition)
        local character = localPlayer.Character
        if not character or not character:FindFirstChild("HumanoidRootPart") then
            return false
        end
        
        character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
        wait(1)
        return true
    end
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è –∏–≥—Ä–æ–∫–∞
    local function getPlayerLevel()
        return localPlayer.Data.Level.Value
    end
    
    -- –ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–≤–µ—Å—Ç–µ
    local function getQuestInfo(level)
        if currentSea == 1 then
            if level < 10 then
                return {
                    npcName = "StartQuest",
                    mobName = "Bandit",
                    npcPosition = Vector3.new(100, 50, 100),
                    mobPositions = {Vector3.new(150, 50, 150)}
                }
            elseif level < 20 then
                return {
                    npcName = "MonkeyQuest",
                    mobName = "Monkey",
                    npcPosition = Vector3.new(-1500, 50, 100),
                    mobPositions = {Vector3.new(-1550, 50, 150)}
                }
            elseif level < 30 then
                return {
                    npcName = "GorillaQuest", 
                    mobName = "Gorilla",
                    npcPosition = Vector3.new(-1200, 50, -450),
                    mobPositions = {Vector3.new(-1250, 50, -400)}
                }
            elseif level < 40 then
                return {
                    npcName = "PirateQuest",
                    mobName = "Pirate",
                    npcPosition = Vector3.new(-1100, 50, 3800),
                    mobPositions = {Vector3.new(-1150, 50, 3850)}
                }
            else
                return {
                    npcName = "DesertQuest",
                    mobName = "Desert Bandit", 
                    npcPosition = Vector3.new(900, 50, 3700),
                    mobPositions = {Vector3.new(850, 50, 3750)}
                }
            end
        elseif currentSea == 2 then
            if level < 750 then
                return {
                    npcName = "MarineCaptain",
                    mobName = "Marine Captain",
                    npcPosition = Vector3.new(1400, 80, 100),
                    mobPositions = {Vector3.new(1350, 80, 150)}
                }
            else
                return {
                    npcName = "GalleyCaptain",
                    mobName = "Galley Captain",
                    npcPosition = Vector3.new(-500, 80, 1200),
                    mobPositions = {Vector3.new(-550, 80, 1250)}
                }
            end
        elseif currentSea == 3 then
            return {
                npcName = "PirateMillionaire",
                mobName = "Pirate Millionaire",
                npcPosition = Vector3.new(-5000, 80, -5000),
                mobPositions = {Vector3.new(-5050, 80, -4950)}
            }
        end
    end
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ NPC
    local function findNPC(npcName)
        for _, npc in pairs(workspace.NPCs:GetChildren()) do
            if string.find(npc.Name:lower(), npcName:lower()) then
                return npc
            end
        end
        return nil
    end
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –º–æ–±–æ–≤
    local function findMobs(mobName)
        local mobs = {}
        for _, mob in pairs(workspace.Enemies:GetChildren()) do
            if string.find(mob.Name:lower(), mobName:lower()) and mob:FindFirstChild("Humanoid") and mob.Humanoid.Health > 0 then
                table.insert(mobs, mob)
            end
        end
        return mobs
    end
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–∑—è—Ç–∏—è –∫–≤–µ—Å—Ç–∞
    local function takeQuest(questInfo)
        print("–ü—ã—Ç–∞–µ–º—Å—è –≤–∑—è—Ç—å –∫–≤–µ—Å—Ç...")
        
        -- –¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä—É–µ–º—Å—è –∫ NPC
        teleportToPosition(questInfo.npcPosition)
        
        -- –ò—â–µ–º NPC
        local npc = findNPC(questInfo.npcName)
        if npc then
            -- –ü–æ–¥—Ö–æ–¥–∏–º –±–ª–∏–∂–µ –∫ NPC
            teleportToPosition(npc.HumanoidRootPart.Position + Vector3.new(0, 5, 0))
            
            -- –ë–µ—Ä–µ–º –∫–≤–µ—Å—Ç
            local args = {
                [1] = "StartQuest",
                [2] = npc.Name
            }
            
            pcall(function()
                ReplicatedStorage.Remotes.CommF_:InvokeServer(unpack(args))
            end)
            
            print("–ö–≤–µ—Å—Ç –≤–∑—è—Ç!")
            return true
        else
            print("NPC –Ω–µ –Ω–∞–π–¥–µ–Ω")
            return false
        end
    end
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞—Ç–∞–∫–∏ –º–æ–±–æ–≤
    local function attackMobs(questInfo)
        print("–ù–∞—á–∏–Ω–∞–µ–º —Ñ–∞—Ä–º–∏—Ç—å –º–æ–±–æ–≤: " .. questInfo.mobName)
        
        local mobsKilled = 0
        local maxMobs = 5
        
        while isLevelFarming and mobsKilled < maxMobs do
            -- –¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä—É–µ–º—Å—è –∫ –∑–æ–Ω–µ –º–æ–±–æ–≤
            teleportToPosition(questInfo.mobPositions[1])
            
            -- –ò—â–µ–º –º–æ–±–æ–≤
            local mobs = findMobs(questInfo.mobName)
            
            if #mobs > 0 then
                for _, mob in pairs(mobs) do
                    if not isLevelFarming then break end
                    
                    -- –¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä—É–µ–º—Å—è –∫ –º–æ–±—É
                    teleportToPosition(mob.HumanoidRootPart.Position + Vector3.new(5, 5, 5))
                    
                    -- –ê—Ç–∞–∫—É–µ–º –º–æ–±–∞
                    useFruitAttack(mob)
                    
                    -- –ñ–¥–µ–º —Å–º–µ—Ä—Ç–∏ –º–æ–±–∞
                    local timeout = 0
                    while mob and mob.Parent and mob.Humanoid.Health > 0 and timeout < 50 do
                        useFruitAttack(mob)
                        wait(0.1)
                        timeout = timeout + 1
                    end
                    
                    if not mob or not mob.Parent or mob.Humanoid.Health <= 0 then
                        mobsKilled = mobsKilled + 1
                        print("–ú–æ–± —É–±–∏—Ç! " .. mobsKilled .. "/" .. maxMobs)
                    end
                    
                    if mobsKilled >= maxMobs then
                        break
                    end
                end
            else
                print("–ú–æ–±–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –∂–¥–µ–º...")
                wait(2)
            end
            
            wait(0.5)
        end
        
        return mobsKilled >= maxMobs
    end
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞—Ç–∞–∫–∏
    local function useFruitAttack(target)
        local character = localPlayer.Character
        if not character or not target then return end
        
        -- –ò—â–µ–º —Ñ—Ä—É–∫—Ç –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ
        local backpack = localPlayer.Backpack
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        
        if not humanoid then return end
        
        -- –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ —Ñ—Ä—É–∫—Ç
        for _, tool in pairs(backpack:GetChildren()) do
            if tool:IsA("Tool") and (string.find(tool.Name:lower(), "fruit") or string.find(tool.Name:lower(), "blox")) then
                -- –ë–µ—Ä–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤ —Ä—É–∫–∏
                humanoid:EquipTool(tool)
                wait(0.2)
                
                -- –ò—Å–ø–æ–ª—å–∑—É–µ–º –∞—Ç–∞–∫–∏
                local argsZ = {
                    [1] = "Z",
                    [2] = target.HumanoidRootPart.Position
                }
                
                local argsX = {
                    [1] = "X", 
                    [2] = target.HumanoidRootPart.Position
                }
                
                pcall(function()
                    ReplicatedStorage.Remotes.CommF_:InvokeServer(unpack(argsZ))
                    wait(0.1)
                    ReplicatedStorage.Remotes.CommF_:InvokeServer(unpack(argsX))
                end)
                
                break
            end
        end
        
        -- –ê—Ç–∞–∫–∞ –º–µ—á–æ–º –∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
        for _, tool in pairs(backpack:GetChildren()) do
            if tool:IsA("Tool") and string.find(tool.Name:lower(), "sword") then
                humanoid:EquipTool(tool)
                wait(0.2)
                
                -- –ò–º–∏—Ç–∏—Ä—É–µ–º –∫–ª–∏–∫ –¥–ª—è –∞—Ç–∞–∫–∏
                mouse1click()
                break
            end
        end
    end
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–¥–∞—á–∏ –∫–≤–µ—Å—Ç–∞
    local function completeQuest(questInfo)
        print("–°–¥–∞–µ–º –∫–≤–µ—Å—Ç...")
        
        -- –¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä—É–µ–º—Å—è –æ–±—Ä–∞—Ç–Ω–æ –∫ NPC
        teleportToPosition(questInfo.npcPosition)
        
        -- –ò—â–µ–º NPC
        local npc = findNPC(questInfo.npcName)
        if npc then
            -- –ü–æ–¥—Ö–æ–¥–∏–º –±–ª–∏–∂–µ
            teleportToPosition(npc.HumanoidRootPart.Position + Vector3.new(0, 5, 0))
            
            -- –°–¥–∞–µ–º –∫–≤–µ—Å—Ç
            local args = {
                [1] = "EndQuest",
                [2] = npc.Name
            }
            
            pcall(function()
                ReplicatedStorage.Remotes.CommF_:InvokeServer(unpack(args))
            end)
            
            print("–ö–≤–µ—Å—Ç —Å–¥–∞–Ω!")
            return true
        end
        
        return false
    end
    
    -- –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Ñ–∞—Ä–º–∞
    spawn(function()
        print("üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ–∞—Ä–º–∏–Ω–≥ —É—Ä–æ–≤–Ω–µ–π –Ω–∞ " .. currentSea .. " –º–æ—Ä–µ...")
        
        while isLevelFarming do
            local character = localPlayer.Character
            if not character then
                character = localPlayer.CharacterAdded:Wait()
                wait(2)
            end
            
            if not character or not character:FindFirstChild("HumanoidRootPart") then
                wait(1)
                continue
            end
            
            -- –í–∫–ª—é—á–∞–µ–º –ø–æ–ª–µ—Ç –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
            enableFlight()
            
            local playerLevel = getPlayerLevel()
            print("–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å: " .. playerLevel)
            
            -- –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–≤–µ—Å—Ç–µ
            local questInfo = getQuestInfo(playerLevel)
            
            if questInfo then
                print("–ù–∞—á–∏–Ω–∞–µ–º –∫–≤–µ—Å—Ç: " .. questInfo.mobName)
                
                -- –ë–µ—Ä–µ–º –∫–≤–µ—Å—Ç
                if takeQuest(questInfo) then
                    -- –§–∞—Ä–º–∏–º –º–æ–±–æ–≤
                    if attackMobs(questInfo) then
                        -- –°–¥–∞–µ–º –∫–≤–µ—Å—Ç
                        completeQuest(questInfo)
                        print("‚úÖ –¶–∏–∫–ª –∫–≤–µ—Å—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω!")
                    else
                        print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —É–±–∏—Ç—å –≤—Å–µ—Ö –º–æ–±–æ–≤")
                    end
                else
                    print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –≤–∑—è—Ç—å –∫–≤–µ—Å—Ç")
                end
            else
                print("‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω –ø–æ–¥—Ö–æ–¥—è—â–∏–π –∫–≤–µ—Å—Ç –¥–ª—è —É—Ä–æ–≤–Ω—è " .. playerLevel)
            end
            
            wait(3)
        end
        
        -- –û—Ç–∫–ª—é—á–∞–µ–º –ø–æ–ª–µ—Ç –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ
        disableFlight()
        print("üõë –§–∞—Ä–º–∏–Ω–≥ —É—Ä–æ–≤–Ω–µ–π –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
    end)
end

LevelFarm:AddSection({ "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è" })
LevelFarm:AddParagraph({"–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è:", "‚Ä¢ –¢–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—è –≤–º–µ—Å—Ç–æ –ø–æ–ª–µ—Ç–∞ ‚Ä¢ –ü—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫ NPC ‚Ä¢ –ë–∞–∑–æ–≤–∞—è –∞—Ç–∞–∫–∞"})
LevelFarm:AddParagraph({"–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:", "1. –í—Å—Ç–∞–Ω—å—Ç–µ –Ω–∞ –æ—Å—Ç—Ä–æ–≤–µ 2. –í–∫–ª—é—á–∏—Ç–µ —Ñ–∞—Ä–º 3. –°–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç –±—Ä–∞—Ç—å –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–≤–µ—Å—Ç—ã"})
